<head>
  <link rel="stylesheet" href="../style.css" />

  <!-- font link -->
  <link
    href="https://fonts.googleapis.com/css?family=Nunito"
    rel="stylesheet"
    type="text/css"
  />

  <!-- fonawesome link -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
  />
</head>

<body>
  <!-- header section start  -->

  <header>
    <div class="user">
      <img src="../img/user.jpg" />
      <h3 class="name">Oleg simagin</h3>
      <p>Foto-video operator</p>
    </div>

    <nav class="navbar">
      <ul>
        <li class="btn-close"><a href="../index.html">home</a></li>
        <li class="btn-close"><a href="../public/about.html">about</a></li>
        <li class="btn-close">
          <a href="../public/portfolio.html">portfolio</a>
        </li>
        <li class="btn-close"><a href="#reviews">reviews</a></li>
        <li class="btn-close"><a href="../public/contact.html">contact</a></li>
      </ul>
    </nav>
  </header>
  <div id="menu" class="fas fa-bars"></div>

  <!-- header section end  -->

  <section id="portfolio" class="portfolio">
    <h3 class="heading">video <span>gallery</span></h3>
    <div class="box-container">
      <div class="box">
        <video src="../portfolio/video1/1.mp4" muted></video>
      </div>
      <div class="box">
        <video src="../portfolio/video1/2.mp4" muted></video>
      </div>
      <div class="box">
        <video src="../portfolio/video1/3.mp4" muted></video>
      </div>
      <div class="box">
        <video src="../portfolio/video1/4.mp4" muted></video>
      </div>
      <div class="box">
        <video src="../portfolio/video1/5.mp4" muted></video>
      </div>
      <div class="box">
        <video src="../portfolio/video1/6.mp4" muted></video>
      </div>
      <div class="box">
        <video src="../portfolio/video1/7.mp4" muted></video>
      </div>
      <div class="box">
        <video src="../portfolio/video1/8.mp4" muted></video>
      </div>
    </div>
    <div class="popup-video">
      <span>&times;</span>
      <video muted autoplay controls></video>
    </div>
  </section>

  <script>
    // header control start
    let menu = document.querySelector("#menu");
    let openMenu = document.querySelector("header");
    let blockBody = document.querySelector("body");
    let headerItems = document.querySelectorAll(".btn-close");

    menu.onclick = () => {
      menu.classList.toggle("fa-times");
      openMenu.classList.toggle("active");
      blockBody.classList.toggle("active");
    };

    headerItems.forEach((btn) => {
      btn.addEventListener("click", () => {
        menu.classList.toggle("fa-times");
        blockBody.classList.toggle("active");

        openMenu.classList.remove("active");
      });
    });
    // header control end

    // video popup start
    document.querySelectorAll(".box-container video").forEach((vid) => {
      vid.onclick = () => {
        const popupVideo = document.querySelector(".popup-video");
        const popupVideoElement = popupVideo.querySelector("video");
        popupVideoElement.src = vid.getAttribute("src");

        // Позиционируем всплывающее окно в текущей области прокрутки
        popupVideo.style.display = "flex";

        // Добавляем обработчик для закрытия по клику вне видео
        popupVideo.addEventListener("click", (event) => {
          if (event.target === popupVideo) {
            closePopup();
          }
        });
      };
    });

    document.querySelector(".popup-video span").onclick = () => {
      const popupVideo = document.querySelector(".popup-video");
      popupVideo.style.display = "none";
      popupVideo.querySelector("video").src = "";
    };

    document.querySelector(".popup-video span").onclick = () => {
      closePopup();
    };

    // Функция для закрытия всплывающего окна
    function closePopup() {
      const popupVideo = document.querySelector(".popup-video");
      popupVideo.style.display = "none";
      popupVideo.querySelector("video").src = "";
    }

    // Добавляем обработчик для закрытия по клавише Escape
    document.addEventListener("keydown", (event) => {
      if (event.key === "Escape") {
        closePopup();
      }
    });
    // video popup end
  </script>
</body>
